<!DOCTYPE html>
<html lang="pt.br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste</title>
</head>
<style>
body{
    background-color: rgb(223, 219, 22);
}
#main1{
    margin-left: 40%;
    margin-top: 200px;
    font-size: 28px;
}
#main2{
    margin-left: 40%;
    margin-top: 20px;
    font-size: 28px;
}
h1{
    margin-left: 10%;
    font-size: 80px;
}

</style>
<body>
    
<h1>primeiro cadastre-se depois siga com o login</h1>
       
<main id="main1">

    <div class="textocampos">Preencha os campos para o cadastro</div>
    <input type="text" id="inp-login" placeholder="Insira um email">
    <br>
    <input type="password" name="" id="inp-senha" placeholder="Crie uma senha" >
    <br>
    <button id="btn-Cadastrar">Cadastrar</button>
   
</main>


<main id="main2">
           
            <div class="tudodomodal">
                
                <div class="texto-login">Insira seu Login</div> 
             
              <div class="cardLogin">
                <input type="text" name="" id= "Dig-login" placeholder="Digite seu login">
                <br>
                <input type="password" name="" id= "Dig-senha" placeholder="Digite sua senha" >
              </div>
              <button id="btn-acessar">Acessar</button>
            </div>
       
        </main>


        


    <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-auth-compat.js"></script>
    
    
    <script>

        const firebaseConfig = {
            apiKey: "AIzaSyAIQ_gs6JfrAtIugERsfQY2GEhstt1C6gc",
            authDomain: "tccdocuragelada-ef726.firebaseapp.com",
            databaseURL: "https://tccdocuragelada-ef726-default-rtdb.firebaseio.com",
            projectId: "tccdocuragelada-ef726",
            storageBucket: "tccdocuragelada-ef726.appspot.com",
            messagingSenderId: "739246134035",
            appId: "1:739246134035:web:603f9914afc49ce83f00e6" };

        firebase.initializeApp(firebaseConfig);




//Login

document.querySelector('#btn-acessar').addEventListener('click', function() {
            const email = document.getElementById('Dig-login').value; //variável que pega o valor do email
            const senha = document.getElementById('Dig-senha').value; //variável que pega a senha

            // AUTENTICAÇÃO DO USUÁRIO
            firebase.auth().signInWithEmailAndPassword(email, senha) //função do FIREBASE que pega o email e a senha
            .then(response => {
                alert("Usuário conectado com sucesso!"); //opcional
                window.location.href = "index2.html"; // Redireciona para index2.html
            })
            .catch(error => {
                alert("Usuário não encontrado | email ou senha incorretos"); // Mostra erro em um alert!
                console.log("Erro!", error);
            });
        });



        //CADASTRAR

    document.getElementById('btn-Cadastrar').addEventListener('click', function() {      
        const email = document.querySelector("#inp-login").value;
        const senha = document.querySelector ("#inp-senha").value;

    //AQUI PODE COLOCAR UMA VALIDAÇÃO DE SENHA QUE VOCÊ PRECISAR, DEPOIS COLOCAR O CÓDIGO ABAIXO DENTRO DESSA VALIDAÇÃO. 

    if (email === "" || senha === "") {
        alert("Por favor, preencha todos os campos.");
        return;
    }

        // Se a senha for válida, tente cadastrar o usuário
        firebase.auth().createUserWithEmailAndPassword( email, senha)
        .then((userCredential) => {
            // O cadastro foi bem-sucedido
            alert("Cadastro realizado com sucesso! Bem-vindo, " + email);
        })
        .catch((error) => {
            // Se houve um erro, mostre a mensagem
            alert("Erro ao cadastrar: " + error.message);
        });
    });

     





</script>
</body>
</html>